# Spring boot核心作用

1. 起步依赖

`spring-boot-starter-xxx`会聚合很多的依赖包，包括内嵌tomcat服务器等，这样我们在引入依赖时只需要添加起步依赖即可。很方便

2. 自动配置，不需要自己编写配置文件
3. 端点监控



# 记录

1. 我们从Dao层开始开发，且一个数据表对应一个mapper，mapper和对应的配置文件写完就进行测试，这是因为xml文件不会报错，排错比较麻烦，所以先进行小的单元测试，测试没问题再进行下一步的开发。

2. 响应状态码：

   >302:重定向。使用低耦合的方式进行一个功能的跳转（例如注册完账号后跳到登录服务。）
   >
   >比如客户端调用服务器的删除帖子的请求，但是返回数据时需要用到查询的服务，这事并不是在服务器内部中使用删除的服务区调用查询的服务，而是客户端返回一个302响应状态码，并附上一个查询服务的访问地址，其建议客户端去访问这个地址。
   >
   >302+location
   >
   >4xx：客户端问题
   >
   >5xx: 服务端问题



# 开发注册功能

把整个功能的开发过程拆解为三步：

## 1.访问注册页面

- 点击顶部区域内的连接，打开注册页面

## 2.提交注册数据

- 通过register页面表单提交数据
- 服务端验证账号是否存在，邮箱是否已注册
- 服务端发送激活邮件

## 3.激活注册账号

- 点击邮件中的链接，访问服务端的激活服务。跳转到operate-result页面，并自动跳转到相应的页面

# 

# 会话管理

- Http有哪些基本的性质
  - HTTP是简单，可扩展的
  - 无状态，有会话。（可以通过cookie解决无状态的问题。）
- cookie
  - 是服务器发送给浏览器（在响应头中），并保存在浏览器端的一块数据。
  - 浏览器下次访问该服务时，会自动携带该数据（在请求头中），将其发送给服务器
  - cookie的缺点是不安全，所以不要将重要信息存在cookie中。。可以存在redis数据库中
- Session
  - 是JavaEE的标准，用于在服务端记录客户端信息。
  - 数据存放在服务端更加安全，但是也会增加服务端的内存压力，在分布式部署中，session同步也是一个麻烦事。





# 开发登录功能

- 访问登录页面
  - 点击顶部区域内的链接，打开登录页面
- 登录
  - 验证账号，密码，验证码
  - 成功时，生成登录凭证，发送给客户端
  - 失败时，跳转回登录页面
- 退出
  - 将登录凭证修改为失效状态
  - 跳转至登录页面。



# 页面头部显示登录信息

- 拦截器示例

  - 定义拦截器，实现HandlerInterceptor
  - 配置拦截器，为其指定拦截，排除的路径

- 拦截器应用

  - 在controller请求开始时查询登录用户的信息
  - 在本次controller请求中持有用户数据
  - 在模板视图上显示用户数据
  - 在请求结束时清理用户数据

  ![显示登录信息的流程图.png](https://github.com/ZEQINLIN-666/MyCommunity/blob/master/image/%E6%98%BE%E7%A4%BA%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF%E7%9A%84%E6%B5%81%E7%A8%8B%E5%9B%BE.png?raw=true)